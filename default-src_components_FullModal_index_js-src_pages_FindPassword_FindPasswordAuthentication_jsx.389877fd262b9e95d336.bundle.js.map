{"version":3,"file":"default-src_components_FullModal_index_js-src_pages_FindPassword_FindPasswordAuthentication_jsx.389877fd262b9e95d336.bundle.js","mappings":";;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;;;;;;;;;;;;;;ACZA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAYA;AAEA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACrDA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAEA;AAEA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAIA;AAAA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AAEA;AASA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AATA;AAAA;AAAA;AAUA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AATA;AAAA;AAAA;AAWA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAMA;AAEA;AAEA;AACA;AACA","sources":["webpack://@shopby/react-skin/./node_modules/@shopby/react-components/dist/esm/common/Button/Button.js","webpack://@shopby/react-skin/./node_modules/@shopby/react-components/dist/esm/common/Icon/Icon.js","webpack://@shopby/react-skin/./node_modules/@shopby/react-components/dist/esm/common/IconBtn/IconBtn.js","webpack://@shopby/react-skin/./node_modules/@shopby/react-components/dist/esm/common/TextField/TextField.js","webpack://@shopby/react-skin/./node_modules/@shopby/react-components/dist/esm/modal/CustomModal/CustomModal.js","webpack://@shopby/react-skin/./node_modules/@shopby/react-components/dist/esm/modal/CustomModal/customModalRepository.js","webpack://@shopby/react-skin/./src/components/FullModal/FullModal.jsx","webpack://@shopby/react-skin/./src/components/FullModal/index.js","webpack://@shopby/react-skin/./src/components/Timer/Timer.jsx","webpack://@shopby/react-skin/./src/components/TitleModal/TitleModal.jsx","webpack://@shopby/react-skin/./src/components/TitleModal/index.js","webpack://@shopby/react-skin/./src/pages/FindPassword/FindPasswordAuthentication.jsx"],"sourcesContent":["var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r};import{jsx as _jsx}from\"react/jsx-runtime\";import{forwardRef}from\"react\";var Button=forwardRef((function(t,e){var r=t.theme,n=void 0===r?\"default\":r,a=t.label,o=t.className,s=void 0===o?\"\":o,i=t.children,l=__rest(t,[\"theme\",\"label\",\"className\",\"children\"]);return _jsx(\"button\",__assign({ref:e,type:\"button\",className:\"btn btn--\".concat(n,\" \").concat(s)},l,{children:i||a}))}));export default Button;Button.displayName=\"Button\";","import{jsx as _jsx}from\"react/jsx-runtime\";var Icon=function(a){var c=a.className,o=void 0===c?\"\":c,n=a.name;return _jsx(\"span\",{className:\"ico ico--\".concat(n,\" \").concat(o)})};export default Icon;","var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var s,t=1,a=arguments.length;t<a;t++)for(var o in s=arguments[t])Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o]);return n},__assign.apply(this,arguments)};import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";import Icon from\"../Icon/Icon\";var IconBtn=function(n){var s=n.label,t=void 0===s?\"\":s,a=n.iconType,o=n.rounded,i=void 0!==o&&o,e=n.onClick,c=n.className,r=void 0===c?\"\":c,d=n.testId,l=void 0===d?\"icon-btn\":d,_=n.disabled,u=void 0!==_&&_,p=n.hiddenLabel,v=void 0===p||p;return _jsxs(\"button\",__assign({type:\"button\",className:\"\".concat(i?\"icon-btn--round\":\"\",\" \").concat(null!=r?r:\"\"),disabled:u,onClick:e,\"data-testid\":l},{children:[a&&_jsx(Icon,{name:a}),_jsx(\"span\",__assign({className:v?\"a11y\":\"\"},{children:t}))]}))};export default IconBtn;","var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};import{jsx as _jsx}from\"react/jsx-runtime\";import{forwardRef}from\"react\";import{REG_EX_FOR_VALIDATION}from\"@shopby/shared/constants\";var TextField=forwardRef((function(e,t){var r=e.value,a=e.className,n=e.testId,s=void 0===n?\"text-field\":n,i=e.valid,o=e.onChange,l=__rest(e,[\"value\",\"className\",\"testId\",\"valid\",\"onChange\"]);return _jsx(\"span\",__assign({className:\"text-field \".concat(null!=a?a:\"\")},{children:_jsx(\"input\",__assign({ref:t,\"data-testid\":s,type:\"text\",value:r,onChange:function(e){var t=e.currentTarget.value;i&&(t=t.replace(REG_EX_FOR_VALIDATION[i],\"\"),e.currentTarget.value=t),null==o||o(e)}},l))}))}));TextField.displayName=\"TextField\";export default TextField;","var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";import{Suspense,cloneElement}from\"react\";import{omit}from\"lodash-es\";import{useModalStateContext}from\"../ModalProvider\";import Portal from\"../Portal/Portal\";import modal from\"./customModalRepository\";var ContentWrapper=function(t){var e=t.className,n=t.Children,r=t.LazyContent,o=t.id;return _jsx(Suspense,__assign({fallback:null},{children:_jsxs(Portal,__assign({id:\"custom-modal-\".concat(void 0===o?\"\":o)},{children:[_jsx(\"div\",{className:\"dim\"}),_jsx(\"div\",__assign({className:\"modal \".concat(null!=e?e:\"\")},{children:null!=n?n:r}))]}))}))},HookContent=function(){var t=useModalStateContext().customModalState,e=t.name,n=t.isOpen,r=__rest(t,[\"name\",\"isOpen\"]);if(!n)return null;if(!e)return null;var o=modal[e];return o?_jsx(ContentWrapper,{LazyContent:_jsx(o,__assign({},r))}):null},CustomModal=function(t){var e=t.className,n=void 0===e?\"\":e,r=t.id,o=t.children,s=__rest(t,[\"className\",\"id\",\"children\"]);return o?_jsx(ContentWrapper,{className:n,id:r,Children:cloneElement(o,__assign({},omit(s,[\"children\"])))}):_jsx(HookContent,{})};export default CustomModal;","import{lazy}from\"react\";export default{SampleModal:lazy((function(){return import(\"./SampleModal/SampleModal\")}))};","import { string } from 'prop-types';\n\nimport TitleModal from '../TitleModal';\n\nconst FullModal = ({ className, ...props }) => (\n  <TitleModal className={`full-modal ${className ?? ''}`} {...props} isFull={true} />\n);\n\nFullModal.propTypes = {\n  className: string,\n};\n\nexport default FullModal;\n","import FullModal from './FullModal';\n\nexport default FullModal;\n","import { useState, useEffect } from 'react';\n\nimport { number, func } from 'prop-types';\n\nconst Timer = ({ seconds, onTimeOutAction }) => {\n  const [time, setTime] = useState({ minutes: Math.floor(seconds / 60), seconds: seconds % 60 });\n  const [isTimeOut, setIsTimeOut] = useState(false);\n\n  useEffect(() => {\n    setIsTimeOut(false);\n    const intervalId = setInterval(() => {\n      setTime((prevTime) => {\n        const newSeconds = prevTime.seconds - 1;\n        const newMinutes = prevTime.minutes + Math.floor(newSeconds / 60);\n        if (newSeconds < 0 && newMinutes < 0) {\n          clearInterval(intervalId);\n          setIsTimeOut(true);\n          onTimeOutAction();\n\n          return { minutes: 0, seconds: 0 };\n        }\n\n        return {\n          minutes: newMinutes,\n          seconds: newSeconds < 0 ? 59 : newSeconds,\n        };\n      });\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, [seconds]);\n\n  return (\n    <div className=\"timer\">\n      <span className=\"count-down\">\n        유효시간{' '}\n        {!isTimeOut ? (\n          <span>\n            {time.minutes.toString().padStart(2, '0')}:{time.seconds.toString().padStart(2, '0')}\n          </span>\n        ) : (\n          <span>시간초과</span>\n        )}\n      </span>\n    </div>\n  );\n};\n\nexport default Timer;\n\nTimer.propTypes = {\n  seconds: number,\n  onTimeOutAction: func,\n};\n","import { func, oneOfType, node, element, string, bool } from 'prop-types';\n\nimport { CustomModal, IconBtn } from '@shopby/react-components';\n\nconst TitleModal = ({ className, title, onClose, children, classModifier, isFull, ...props }) => (\n  <CustomModal className={className} {...props}>\n    <div\n      className={`title-modal${classModifier ? ` title-modal--${classModifier}` : ''}${\n        isFull ? ` title-modal--full` : ''\n      }`}\n    >\n      <div className=\"title-modal__header\">\n        <h2 className=\"title-modal__title\">{title}</h2>\n        {onClose && (\n          <IconBtn\n            className=\"title-modal__close-btn\"\n            iconType=\"x-black\"\n            onClick={() => onClose()}\n            hiddenLabel={true}\n            label=\"모달 닫기\"\n          />\n        )}\n      </div>\n      <div className=\"title-modal__content\">{children}</div>\n    </div>\n  </CustomModal>\n);\n\nexport default TitleModal;\n\nTitleModal.propTypes = {\n  id: string,\n  className: string,\n  title: string,\n  onClose: func,\n  children: oneOfType([node, element]),\n  classModifier: string,\n  isFull: bool,\n};\n","import TitleModal from './TitleModal';\n\nexport default TitleModal;\n","import { useEffect, useState } from 'react';\n\nimport { string } from 'prop-types';\n\nimport {\n  useFindAccountStateContext,\n  useAuthenticationStateContext,\n  useAuthenticationActionContext,\n  useModalActionContext,\n  TextField,\n  Button,\n} from '@shopby/react-components';\n\nimport { useErrorBoundaryActionContext } from '../../components/ErrorBoundary';\nimport Timer from '../../components/Timer/Timer';\n\nexport const FindPasswordAuthentication = ({ type: sendType }) => {\n  const [errorMessage, setErrorMessage] = useState('');\n  const {\n    findAccountInfo: { memberId },\n    memberNo,\n  } = useFindAccountStateContext();\n  const { catchError } = useErrorBoundaryActionContext();\n  const { openAlert } = useModalActionContext();\n\n  const {\n    authenticationInfo: { certificatedNumber },\n    isAuthenticationReSend,\n    authenticationsRemainTimeBySeconds,\n  } = useAuthenticationStateContext();\n  const {\n    sendAuthentication,\n    confirmAuthentication,\n    updateAuthenticationInfo,\n    updateIsAuthenticationReSend,\n    updateAuthenticationsRemainTimeBySeconds,\n  } = useAuthenticationActionContext();\n\n  useEffect(() => {\n    const initialSendAuthentication = async () => {\n      try {\n        await sendAuthentication({ memberNo, type: sendType, usage: 'FIND_PASSWORD' });\n      } catch (e) {\n        openAlert({\n          message: '인증번호 발송에 실패하였습니다. 인증번호가 계속 오지 않을 경우, 고객센터로 문의해주세요.',\n        });\n        updateIsAuthenticationReSend(true);\n      }\n    };\n    initialSendAuthentication();\n  }, []);\n\n  const handleCertificatedNumberChange = ({ currentTarget: { value } }) => {\n    updateAuthenticationInfo({ certificatedNumber: value });\n  };\n\n  const handleConfirmAuthentication = async (certificatedNumber, sendType) => {\n    try {\n      await confirmAuthentication({ memberNo, certificatedNumber, type: sendType, usage: 'FIND_PASSWORD' });\n\n      setErrorMessage('');\n      location.href = `/change-password?memberId=${memberId}&certificationNumber=${certificatedNumber}&findMethod=${sendType}`;\n    } catch (e) {\n      catchError(e);\n    }\n  };\n\n  return (\n    <div className=\"find-password-authentication\">\n      <p className=\"find-password-authentication__tit\">인증번호를 입력해주세요.</p>\n      <div className=\"find-password-authentication__input-wrap\">\n        <TextField\n          value={certificatedNumber}\n          placeholder=\"인증번호\"\n          valid=\"NO_SPACE\"\n          maxLength={6}\n          onChange={handleCertificatedNumberChange}\n        />\n      </div>\n      {authenticationsRemainTimeBySeconds && (\n        <Timer\n          seconds={authenticationsRemainTimeBySeconds}\n          onTimeOutAction={() => {\n            setErrorMessage('유효시간이 만료되었습니다.');\n            updateIsAuthenticationReSend(true);\n          }}\n        />\n      )}\n\n      {<p className=\"find-password-authentication__caution\">{errorMessage}</p>}\n      <div className=\"find-password-authentication__btn-wrap\">\n        {isAuthenticationReSend ? (\n          <Button\n            label={'재인증'}\n            onClick={() => {\n              setErrorMessage('');\n              updateAuthenticationsRemainTimeBySeconds(null);\n              sendAuthentication({ memberNo, type: sendType, usage: 'FIND_PASSWORD' });\n            }}\n          />\n        ) : (\n          <Button\n            label={'확인'}\n            onClick={() => {\n              handleConfirmAuthentication(certificatedNumber, sendType);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FindPasswordAuthentication;\n\nFindPasswordAuthentication.propTypes = {\n  type: string,\n};\n"],"names":[],"sourceRoot":""}